<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>interfaces | IfState</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="interfaces" />
<meta name="author" content="Thomas Liske" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Manage host interface settings in a declarative manner" />
<meta property="og:description" content="Manage host interface settings in a declarative manner" />
<meta property="og:site_name" content="IfState" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="interfaces" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Thomas Liske"},"description":"Manage host interface settings in a declarative manner","headline":"interfaces","url":"/docs/interfaces/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="IfState" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">IfState</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/">About</a><a class="page-link" href="/docs/">Docs</a><a class="page-link" href="/examples/">Examples</a><a class="page-link" href="/schema.html">Schema</a><a class="page-link" href="/changelog/">ChangeLog</a><a class="page-link" href="/source/">üîóSource</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">interfaces</h1>
  </header>

  <div class="post-content">
    <p><a href="../../schema/#interfaces">Schema description</a></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">interfaces</span><span class="pi">:</span>
<span class="c1"># list of interface settings</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">eno1</span>
  <span class="c1"># ip addresses (ip address)</span>
  <span class="na">addresses</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">192.0.1.254/24</span>
  <span class="c1"># link settings (ip link)</span>
  <span class="na">link</span><span class="pi">:</span>
    <span class="na">state</span><span class="pi">:</span> <span class="s">up</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">physical</span>
    <span class="na">businfo</span><span class="pi">:</span> <span class="s">0000:00:1f.6</span>
</code></pre></div></div>

<p>Examples:</p>
<ul>
  <li><a href="../../examples/lacp.html">Bonding Interface w/ LACP (802.3ad)</a></li>
  <li><a href="../../examples/gretap.html">EoGRE Layer 2 Tunnel</a></li>
  <li><a href="../../examples/geneve.html">GENEVE Layer 2 Tunnel</a></li>
  <li><a href="../../examples/physical.html">Physical Interface</a></li>
  <li><a href="../../examples/vlan-dot1q.html">VLAN Subinterface (802.1q)</a></li>
  <li><a href="../../examples/vlan-qinq.html">VLAN Q-in-Q Subinterfaces (802.1ad + 802.1q)</a></li>
</ul>

<p>The <em>interfaces</em> setting contains a list of settings for network interfaces. Each interface needs at least have an uniqure interface name.</p>

<p>The <em>link</em> setting defines the type and states of the interfaces. In contrast to virtual interfaces, physical interfaces cannot be created or destroyed. It is therefore important that physical interfaces can be uniquely identified. <em>IfState</em> provides the following properties to uniquely identify an interface (in order of priority):</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">link.businfo</code> - the PCI or USB bus address</li>
  <li><code class="language-plaintext highlighter-rouge">link.permaddr</code> - the built-in permanent mac address</li>
  <li><code class="language-plaintext highlighter-rouge">link.address</code> - the mac address</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - the interface name</li>
</ol>

<p>The properties <em>businfo</em> and <em>permaddr</em> cannot be changed in Linux and are therefore the most reliable identifiers.</p>

<p>Other settings available for an inteface:</p>

<ul>
  <li><a href="../../schema/#interfaces_items_addresses"><em>addresses</em></a> - assigned ip addresses</li>
  <li><a href="../../schema/#interfaces_items_brport"><em>brport</em></a> - bridge port specific settings</li>
  <li><a href="../../schema/#interfaces_items_fdb"><em>fdb</em></a> - permanent bridge forwarding database entries</li>
  <li><a href="../../schema/#interfaces_items_vrrp"><em>vrrp</em></a> - VRRP action conditions</li>
  <li><a href="../../schema/#interfaces_items_link"><em>link</em></a> - link settings</li>
  <li><a href="../../schema/#interfaces_items_neighbours"><em>neighbours</em></a> - permanent ip neighbour cache entries</li>
  <li><a href="../../schema/#interfaces_items_sysctl"><em>sysctl</em></a> - interface specific procfs settings</li>
  <li><a href="../../schema/#interfaces_items_ethtool"><em>ethtool</em></a> - ethtool settings</li>
  <li><a href="../../schema/#interfaces_items_cshaper"><em>cshaper</em></a> - simplified tc settings (‚Äúcake shaper‚Äù)</li>
  <li><a href="../../schema/#interfaces_items_tc"><em>tc</em></a> - traffic control settings</li>
  <li><a href="../../schema/#interfaces_items_wireguard"><em>wireguard</em></a> - wireguard configuration and peers</li>
  <li><a href="../../schema/#interfaces_items_xdp"><em>xdp</em></a> - assign eXpress Data Path BPF programs</li>
</ul>

<p><a href="..#configuration-file">Back</a></p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">IfState</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Thomas Liske</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://ibh.social/@liske"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#mastodon"></use></svg> <span class="username">liske</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Manage host interface settings in a declarative manner</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
